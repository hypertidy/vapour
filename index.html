<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lightweight Access to the Geospatial Data Abstraction Library (GDAL) • vapour</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Lightweight Access to the Geospatial Data Abstraction Library (GDAL)">
<meta property="og:description" content="Provides low-level access to GDAL functionality for R packages.  
  GDAL is the Geospatial Data Abstraction Library a translator for raster and vector geospatial data formats 
  that presents a single raster abstract data model and single vector abstract data model to the calling application 
  for all supported formats &lt;https://gdal.org/&gt;. ">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">vapour</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/vapour.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/feature-access.html">feature-access</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hypertidy/vapour/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="vapour-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#vapour-" class="anchor"></a>vapour <img src="reference/figures/logo.png" align="right" height="228">
</h1></div>
<!-- badges: start -->

<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The vapour package provides access to the basic <em>read</em> functions available in <a href="https://gdal.org/">GDAL</a> for both <a href="https://gdal.org/user/raster_data_model.html">raster</a> and <a href="https://gdal.org/user/vector_data_model.html">vector</a> data sources.</p>
<p>The functions are deliberately <em>lower-level</em> than these data models and provide access to the component entities independently.</p>
<p>For vector data:</p>
<ul>
<li>read access to feature attributes.</li>
<li>read access to raw binary geometry.</li>
<li>read access to geometry in text forms (GeoJSON, WKT, GML, KML).</li>
<li>read access to the extent, or bounding box, of feature geometries.</li>
<li>helper functions to summarize feature identity and geometry status</li>
</ul>
<p>All vector/feature read tasks can optionally apply an arbitrary limit to the maximum number of features read or queried, and all allow execution of <a href="https://gdal.org/user/ogr_sql_dialect.html">OGRSQL</a> to a layer prior to data extraction. In combination with a SQL query a <a href="https://gdal.org/user/ogr_sql_dialect.html#executesql">bounding box spatial filter</a> can be applied via the <code>extent</code> argument.</p>
<p>For raster data:</p>
<ul>
<li>read access to the list of available rasters within a collection source (subdatasets).</li>
<li>read access to <em>structural metadata</em> for individual raster sources.</li>
<li>read access for raw data using GDAL’s <a href="https://gdal.org/tutorials/raster_api_tut.html">RasterIO framework</a> and its dynamic image decimation / replication resampling algorithms.</li>
<li>read access for raw data using GDAL’s <a href="https://gdal.org/api/gdalwarp_cpp.html">Warper framework</a> and its dynamic image warping, a superset of the RasterIO capabilities.</li>
</ul>
<p>The <code><a href="reference/vapour_warp_raster.html">vapour_warp_raster()</a></code> function is a new feature in vapour, and reflects many learnings about how the warper works and what is needed for use. We simplify the approach taken in <code><a href="reference/vapour_read_raster.html">vapour_read_raster()</a></code> by allowing specifying an <em>extent</em> and <em>dimensions</em> as a minimum, and this works for data sources that contain <em>overviews</em> (or pyramid levels-of-detail) as it automatically chooses an appropriate level for the request made. This works for files, urls, database connections, online tiled image servers, and all the various ways of specifying GDAL data sources.</p>
<p>The workflows available are intended to support development of applications in R for these vector and <a href="https://en.wikipedia.org/wiki/Raster_data">raster data</a> without being constrained to any particular data model.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The package can be installed from CRAN.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## install.packages("remotes")</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_cran.html">install_cran</a></span><span class="op">(</span><span class="st">"vapour"</span><span class="op">)</span></code></pre></div>
<p>The development version can be installed from Github, easiest is via the <a href="https://hypertidy.r-universe.dev/ui#builds">hypertidy universe</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    hypertidy <span class="op">=</span> <span class="st">'https://hypertidy.r-universe.dev'</span>,
    CRAN <span class="op">=</span> <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"vapour"</span><span class="op">)</span></code></pre></div>
<p>To install the development version the more github-traditional way:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"hypertidy/vapour"</span><span class="op">)</span></code></pre></div>
<p>You will need development tools for building R packages.</p>
<p>On Linux and MacOS building also requires an available GDAL installation, but on Windows the ROpenSci rwinlib tools are used and the required GDAL will be downloaded and used when building the package. The hypertidy universe way also has access to binaries. On windows this installation is self-contained and only affects the use of R, it can be used alongside other applications using GDAL.</p>
<p>For MacOS the package build is controlled by an internal CRAN process including configure arguments for the gdal and proj data directories.</p>
</div>
<div id="purpose" class="section level2">
<h2 class="hasAnchor">
<a href="#purpose" class="anchor"></a>Purpose</h2>
<p>The goal of vapour is to provide a basic <strong>GDAL API</strong> package for R. The key functions provide vector geometry or attributes and raster data and raster metadata.</p>
<p>The priority is to give low-level access to key functionality rather than comprehensive coverage of the library. The real advantage of <code>vapour</code> is the flexibility of a modular workflow, not the outright efficiency.</p>
<p>A parallel goal is to be freed from the powerful but sometimes limiting high-level data models of GDAL itself, specifically these are <em>simple features</em> and <em>affine-based regular rasters composed of 2D slices</em>. (GDAL will possibly remove these limitations over time but still there will always be value in having modularity in an ecosystem of tools.)</p>
<p>GDAL’s dynamic resampling of arbitrary raster windows is also very useful for interactive tools on local data, and is radically under-utilized. A quick example, topography data is available from Amazon compute servers, first we need a config file for the source:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">elevation.tiles.prod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".xml"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span><span class="op">(</span><span class="st">'&lt;GDAL_WMS&gt;
  &lt;Service name="TMS"&gt;
    &lt;ServerUrl&gt;https://s3.amazonaws.com/elevation-tiles-prod/geotiff/${z}/${x}/${y}.tif&lt;/ServerUrl&gt;
  &lt;/Service&gt;
  &lt;DataWindow&gt;
    &lt;UpperLeftX&gt;-20037508.34&lt;/UpperLeftX&gt;
    &lt;UpperLeftY&gt;20037508.34&lt;/UpperLeftY&gt;
    &lt;LowerRightX&gt;20037508.34&lt;/LowerRightX&gt;
    &lt;LowerRightY&gt;-20037508.34&lt;/LowerRightY&gt;
    &lt;TileLevel&gt;14&lt;/TileLevel&gt;
    &lt;TileCountX&gt;1&lt;/TileCountX&gt;
    &lt;TileCountY&gt;1&lt;/TileCountY&gt;
    &lt;YOrigin&gt;top&lt;/YOrigin&gt;
  &lt;/DataWindow&gt;
  &lt;Projection&gt;EPSG:3857&lt;/Projection&gt;
  &lt;BlockSizeX&gt;512&lt;/BlockSizeX&gt;
  &lt;BlockSizeY&gt;512&lt;/BlockSizeY&gt;
  &lt;BandsCount&gt;1&lt;/BandsCount&gt;
  &lt;DataType&gt;Int16&lt;/DataType&gt;
  &lt;ZeroBlockHttpCodes&gt;403,404&lt;/ZeroBlockHttpCodes&gt;
  &lt;DataValues&gt;
    &lt;NoData&gt;-32768&lt;/NoData&gt;
  &lt;/DataValues&gt;
  &lt;Cache/&gt;
&lt;/GDAL_WMS&gt;'</span>, <span class="va">elevation.tiles.prod</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## we want an extent</span>
<span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fl">5000</span>  <span class="co">## 10km wide/high region</span>
<span class="co">## Madrid is at this location</span>
<span class="va">pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3.716667</span>, <span class="fl">40.416667</span><span class="op">)</span>
<span class="va">crs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"+proj=laea +lon_0=%f +lat_0=%f +datum=WGS84"</span>, <span class="va">pt</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span>,drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">]</span>, <span class="va">pt</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">]</span><span class="op">)</span>
<span class="va">dm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">256</span>, <span class="fl">256</span><span class="op">)</span>


<span class="va">vals</span> <span class="op">&lt;-</span> <span class="fu">vapour</span><span class="fu">::</span><span class="fu"><a href="reference/vapour_warp_raster.html">vapour_warp_raster</a></span><span class="op">(</span><span class="va">elevation.tiles.prod</span>, extent <span class="op">=</span> <span class="va">ex</span>, dimension <span class="op">=</span> <span class="va">dm</span>, wkt <span class="op">=</span> <span class="va">crs</span><span class="op">)</span>
<span class="co">## now we can use this in a matrix</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/image.html">image</a></span><span class="op">(</span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">vals</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, nrow <span class="op">=</span> <span class="va">dm</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, ncol <span class="op">=</span> <span class="va">dm</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="va">dm</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">:</span><span class="fl">1</span> <span class="op">]</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-topo-example-1.png" width="100%"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## using the image list format</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, length.out <span class="op">=</span> <span class="va">dm</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> ,<span class="va">ex</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span>, length.out <span class="op">=</span> <span class="va">dm</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span>, z <span class="op">=</span> <span class="va">m</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/image.html">image</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>

<span class="co">## or as a spatial object</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">raster</span><span class="op">)</span>
<span class="co">#&gt; Loading required package: sp</span>
<span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">setValues</span><span class="op">(</span><span class="fu">raster</span><span class="op">(</span><span class="fu">extent</span><span class="op">(</span><span class="va">ex</span><span class="op">)</span>, nrows <span class="op">=</span> <span class="va">dm</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, ncols <span class="op">=</span> <span class="va">dm</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, crs <span class="op">=</span> <span class="va">crs</span><span class="op">)</span>, <span class="va">vals</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/contour.html">contour</a></span><span class="op">(</span><span class="va">r</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-topo-example-2.png" width="100%"></p>
<p>If we want more detail, go ahead:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">512</span>, <span class="fl">512</span><span class="op">)</span>
<span class="va">vals</span> <span class="op">&lt;-</span> <span class="fu">vapour</span><span class="fu">::</span><span class="fu"><a href="reference/vapour_warp_raster.html">vapour_warp_raster</a></span><span class="op">(</span><span class="va">elevation.tiles.prod</span>, extent <span class="op">=</span> <span class="va">ex</span>, dimension <span class="op">=</span> <span class="va">dm</span>, wkt <span class="op">=</span> <span class="va">crs</span><span class="op">)</span>
<span class="op">(</span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">setValues</span><span class="op">(</span><span class="fu">raster</span><span class="op">(</span><span class="fu">extent</span><span class="op">(</span><span class="va">ex</span><span class="op">)</span>, nrows <span class="op">=</span> <span class="va">dm</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, ncols <span class="op">=</span> <span class="va">dm</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, crs <span class="op">=</span> <span class="va">crs</span><span class="op">)</span>, <span class="va">vals</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; class      : RasterLayer </span>
<span class="co">#&gt; dimensions : 512, 512, 262144  (nrow, ncol, ncell)</span>
<span class="co">#&gt; resolution : 19.53125, 19.53125  (x, y)</span>
<span class="co">#&gt; extent     : -5000, 5000, -5000, 5000  (xmin, xmax, ymin, ymax)</span>
<span class="co">#&gt; crs        : +proj=laea +lat_0=40.416667 +lon_0=-3.716667 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs </span>
<span class="co">#&gt; source     : memory</span>
<span class="co">#&gt; names      : layer </span>
<span class="co">#&gt; values     : 562, 742  (min, max)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">r</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span><span class="fl">24</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-lod-1.png" width="100%"></p>
<p>GDAL is obstinately <em>format agnostic</em>, the A stands for <em>Abstraction</em> and we like that in R too, just gives us the data. Here we created a base matrix image object, and a raster package <em>RasterLayer</em>, but we could use the spatstat im, or objects in stars or terra packages, it makes no difference to the read-through-warp process.</p>
<p>This partly draws on work done in <a href="https://github.com/r-spatial/sf">the sf package</a> and <a href="https://github.com/rspatial/terra">the terra package</a> and in packages <code>rgdal</code> and <code>rgdal2</code>. I’m amazed that something as powerful and general as GDAL is still only available through these lenses, but maybe more folks will get interested over time.</p>
</div>
<div id="warnings" class="section level2">
<h2 class="hasAnchor">
<a href="#warnings" class="anchor"></a>Warnings</h2>
<p>It’s possible to give problematic “SELECT” statements via the <code>sql</code> argument. Note that the geometry readers <code>vapour_read_geometry</code>, <code>vapour_read_geometry_text</code>, and <code>vapour_read_extent</code> will strip out the <code>SELECT ... FROM</code> clause and replace it with <code>SELECT * FROM</code> to ensure that the geometry is accessible, though the attributes are ignored. This means we can allow the user or <code>dplyr</code> to create any <code>SELECT</code> statement. The function <code>vapour_read_geometry</code> will return a list of NULLs, in this case.</p>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>The package documentation page gives an overview of available functions.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/help.html">help</a></span><span class="op">(</span><span class="st">"vapour-package"</span><span class="op">)</span></code></pre></div>
<p>See the vignettes and documentation for examples WIP.</p>
</div>
<div id="context" class="section level2">
<h2 class="hasAnchor">
<a href="#context" class="anchor"></a>Context</h2>
<p>Examples of packages that use vapour are in development, <a href="https://github.com/mdsumner/RGDALSQL">RGDALSQL</a> and <a href="https://github.com/hypertidy/lazyraster">lazyraster</a>. <code>RGDALSQL</code> aims to leverage the facilities of GDAL to provide data <em>on-demand</em> for many sources <em>as if</em> they were databases. <code>lazyraster</code> uses the level-of-detail facility of GDAL to read just enough resolution from a raster source using traditional window techniques.</p>
<p>Limitations, work-in-progress and other discussion are active here: <a href="https://github.com/hypertidy/vapour/issues/4" class="uri">https://github.com/hypertidy/vapour/issues/4</a></p>
<p>We’ve kept a record of a minimal GDAL wrapper package here:</p>
<p><a href="https://github.com/diminutive/gdalmin" class="uri">https://github.com/diminutive/gdalmin</a></p>
<p>Before those I had worked on getting sp and dplyr to at least work together <a href="https://github.com/dis-organization/sp_dplyrexpt" class="uri">https://github.com/dis-organization/sp_dplyrexpt</a> and recently rgdal was updated to allow tibbles to be used, something that spbabel and spdplyr really needed to avoid friction.</p>
<p>Early exploration of allow non-geometry read with rgdal was tried here: <a href="https://github.com/hypertidy/gladr" class="uri">https://github.com/hypertidy/gladr</a></p>
<p>Thanks to Edzer Pebesma and Roger Bivand and Tim Keitt for prior art that I crib and copy from. Jeroen Ooms helped the R community hugely by providing an accessible build process for libraries on Windows. Mark Padgham helped kick me over a huge obstacle in using C++ libraries with R. Simon Wotherspoon and Ben Raymond have endured ravings about wanting this level of control for many years.</p>
</div>
</div>
<div id="code-of-conduct" class="section level1">
<h1 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of conduct</h1>
<p>Please note that this project is released with a <a href="https://github.com/hypertidy/vapour/blob/master/CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=vapour">https://​cloud.r-project.org/​package=vapour</a>
</li>
<li>Browse source code at <br><a href="https://github.com/hypertidy/vapour/">https://​github.com/​hypertidy/​vapour/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/hypertidy/vapour/issues">https://​github.com/​hypertidy/​vapour/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michael Sumner <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2471-7511" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/hypertidy/vapour/actions"><img src="https://github.com/hypertidy/vapour/workflows/R-CMD-check/badge.svg" alt="R_build_status"></a></li>
<li><a href="https://cran.r-project.org/package=vapour"><img src="http://www.r-pkg.org/badges/version/vapour" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://cran.r-project.org/package=vapour"><img src="http://cranlogs.r-pkg.org/badges/vapour" alt="CRAN_Download_Badge"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Michael Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
