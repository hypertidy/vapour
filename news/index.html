<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • vapour</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vapour</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.3.9007</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/vapour.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/feature-access.html">feature-access</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/hypertidy/vapour/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/hypertidy/vapour/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.3" id="vapour-093">vapour 0.9.3<small>2023-01-06</small><a class="anchor" aria-label="anchor" href="#vapour-093"></a></h2>
<ul><li>Update to CRAN Makevars.ucrt.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.2" id="vapour-092">vapour 0.9.2<small>2022-11-16</small><a class="anchor" aria-label="anchor" href="#vapour-092"></a></h2>
<ul><li><p>Resubmit after 0.9.1 was rejected, fixed configure.ac and checked on on M1MAC/macbuilder.</p></li>
<li><p>The SQL dialect in use for the ‘sql’ argument can now be controlled, it is set to "" by default. See <code>?vapour-package</code> for details.</p></li>
<li><p>‘vapour_layer_info’ now supports spatial filter, the ‘extent’ argument in ‘vapour_layer_info’ is now for limiting the spatial extent of a layer query (was for controlling whether extent calculated or not).</p></li>
<li><p>‘gdal_read_names’ removed from gdallibrary, and ‘read_names_gdal_cpp’ renamed to ‘read_fids_gdal_cpp’ and now returns a numeric vector rather than a list.</p></li>
<li><p>Fixed another stray cast (int), now checking more robustly for nodata value for integer bands. We have made some inroads into better consistency of use of long integer values in the code base, but vapour does not yet support long vectors.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.0" id="vapour-090">vapour 0.9.0<small>2022-11-07</small><a class="anchor" aria-label="anchor" href="#vapour-090"></a></h2>
<ul><li><p>Big cleanup.</p></li>
<li><p>Resubmit after 0.8.82 was rejected.</p></li>
<li><p>Fix examples and documentation for ‘sst_c’, ‘vapour_read_geometry’, ‘vapour_read_fields’, ‘vapour_create()’, ‘vapour_read_raster_block()’ and ‘vapour_write_raster_block()’ from CRAN submission.</p></li>
<li><p>Clarified authorship for Jim Hester (listed as copyright holder in DESCRIPTION), removed comment from code in CollectorList.h.</p></li>
<li><p>Resubmit after 0.8.8.81 was removed.</p></li>
<li><p>Remove obscure NetCDF/HDF5 tests that don’t work on CRAN macos.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.81" id="vapour-0881">vapour 0.8.81<small>2022-08-30</small><a class="anchor" aria-label="anchor" href="#vapour-0881"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-8-81">BREAKING CHANGES<a class="anchor" aria-label="anchor" href="#breaking-changes-0-8-81"></a></h3>
<ul><li><p>‘vapour_sds_names()’ now returns a character vector not a list.</p></li>
<li><p>‘gdalraster::gdal_list_subdatasets’ now returns unprocessed subdataset strings, of the form ’SUBDATASET_{i}_NAME={DRIVER}:{URI}:layer’, and the strings are cleaned in R (but, can use <code>vapour_raster_info</code>, <code><a href="../reference/vapour_sds_names.html">vapour_sds_names()</a></code> for a separate pathway to this.)</p></li>
</ul><hr><ul><li><p>Fixed CRAN warnings due to incorrect use of boolean operator, <a href="https://github.com/hypertidy/vapour/issues/158" class="external-link">#158</a>.</p></li>
<li><p><code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code> gains a subdatasets vector, this is just the source input if subdatasets are not present.</p></li>
<li><p>Subdatasets can now be named by variable name or by index in ‘vapour_vrt()’. Note this can’t always work as some services don’t have names in the sense that classic subdataset sources (like netcdf) do.</p></li>
<li><p>‘warp_options’ and ‘transformation_options’ has been removed from the ‘gdalwarpmem’ namespace, and from the R and Rcpp wrappers. All options are now assumed to be bundled into one string list (CharacterVector).</p></li>
<li><p>Setting options for the ‘vapour_warp_raster()’ has been reconfigured. Arguments ‘warp_options’, ‘transformation_options’, ‘open_options’, and ‘dataset_output_options’ correspond to the ‘NAME=VALUE’ configuration provided by gdalwarp as ‘-wo’, ‘-to’, ‘-oo’, and ‘-doo’. All of these should be entered in bare form (without the ‘-wo’, ‘-to’ etc) but for ‘options’ these must be entered as per standard gdalwarp options. Some are disallowed and are checked for, triggering an error because we either set them via other arguments, or they can’t be supported atm.</p></li>
<li><p>New options setting support means we can support all gdalwarp options, notably ‘-cutline’, ‘-csql’, ‘-cwhere’, and ‘-crop_to_cutline’ which allow masking by a a polygon layer from a vector data source. Thanks to Hugh Graham for the motivation for this. :)</p></li>
<li><p>New internal function <code>raster_has_geolocation_gdal_cpp()</code>, early begin of does this datasource have geolocation arrays (because if it does we can just push it through the warper, otherwise nominate them with <code>vapour_vrt(geolocation = )</code>).</p></li>
<li><p><code><a href="../reference/vapour_vrt.html">vapour_vrt()</a></code> gains geolocation argument, which can be named dsns for each of longitude,latitude. Currently assumed to be ‘OGC:CRS84’.</p></li>
<li><p>Now depend on GDAL 2.2.3 as a minimum, because ubuntu 18.04 is still in wide use. GDALInfo() lib needs GDAL 2.1 as minimum. Some info features need later, but do not fail (AFAIK).</p></li>
<li><p><code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code> now has <code>dimension</code> element, intended for use instead of <code>dimXY</code> (for standard idiom like {gdalio} uses with ‘extent’, ‘dimension’, ‘projection’ as the basis of what a raster is). <code>dimXY</code> will be removed in future.</p></li>
<li><p>New namespace ‘gdalapplib’ with one utility for GDALInfo(), this is vectorized at the cpp level and includes subdataset handling. It does not include listing of TAR and ZIP archives. <code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code> now uses this.</p></li>
<li><p>New functions <code><a href="../reference/vapour_create.html">vapour_create()</a></code> <code><a href="../reference/vapour_read_raster_block.html">vapour_read_raster_block()</a></code> and <code><a href="../reference/vapour_read_raster_block.html">vapour_read_raster_block()</a></code> for creating and writing to files.</p></li>
<li><p>Moved C++ functions <code>gdal_sds_list()</code>, <code>gdal_extent_only()</code> <code>gdal_raster_info()</code>, <code>gdal_raster_gcp()</code>, <code>init_resample_alg()</code>, <code>gdal_read_band_values()</code>, <code>gdal_read_dataset_values()</code>, <code>gdal_raster_dataset_io()</code>, <code>gdal_raster_io()</code> to <em>gdalraster</em> namespace from <em>gdallibrary</em> namespace. (Some of these will get refactored out).</p></li>
<li><p>New function <code><a href="../reference/vapour_vrt.html">vapour_vrt()</a></code>.</p></li>
<li><p><code><a href="../reference/vapour_warp_raster.html">vapour_warp_raster()</a></code> default has changed for <code>bands</code>, it’s now NULL which means “all bands”, not <code>1L</code>.</p></li>
<li><p>New functions <code><a href="../reference/vapour_set_config.html">vapour_set_config()</a></code> and <code><a href="../reference/vapour_set_config.html">vapour_get_config()</a></code> to control configuration options for GDAL.</p></li>
<li><p>Flushed out memory bugs with valgrind.</p></li>
<li><p>Refactored read from raster and warp raster. The warping uses the same band reader as the RasterIO reader, and more cases of ‘GDALOpen()’ for rasters go via the underlying ‘gdalraster’ namespace pathway.</p></li>
<li><p>Faster layer extent determination in <code><a href="../reference/vapour_layer_info.html">vapour_layer_info()</a></code>, new function <code><a href="../reference/vapour_layer_extent.html">vapour_layer_extent()</a></code>.</p></li>
<li><p>Better escaping for layer name, needed quotes around layer ‘SELECT’ when counting features with SQL for FlatGeoBuf.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.8" id="vapour-088">vapour 0.8.8<a class="anchor" aria-label="anchor" href="#vapour-088"></a></h2>
<p>(This never made it to CRAN.)</p>
<ul><li><p>Patch release for R UCRT changes. Applied patch provided by CRAN.</p></li>
<li><p>Removed invalid missing value setting for type raw and int in the warper, causing representable range errors on cran.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.5" id="vapour-085">vapour 0.8.5<small>2021-10-07</small><a class="anchor" aria-label="anchor" href="#vapour-085"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-8-5">BREAKING CHANGES<a class="anchor" aria-label="anchor" href="#breaking-changes-0-8-5"></a></h3>
<ul><li><p>Raster read now detects type of the source and return raw, integer, or double as per the native type in the source.</p></li>
<li><p><code>wkt</code> argument for the target projection in warper functions is now replaced by ‘projection’. If ‘wkt’ is given it is used to set the value for ‘projection’ and a message emitted. No change has been made at the C++ level, which still uses the original names.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-8-5">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-5"></a></h3>
<ul><li><p>Fixed configure.ac, upgraded syntax causing warnings on CRAN.</p></li>
<li><p>Fixed huge SDS name wrecking bug. So now works for WMTS sources, for example.</p></li>
<li><p>Fixed bug in use of scaling, was applied without conversion to floating point type.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-8-5">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-8-5"></a></h3>
<ul><li><p><code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code> gains <code>datatype</code> field.</p></li>
<li><p>Warp read functions gain <code>warp_options</code> and <code>transformation_options</code>.</p></li>
<li><p>New feature to provide <code>band_output_type</code> to raster read functions, to take Byte, Int32, or Float64.</p></li>
<li><p>New functions <code><a href="../reference/vapour_read_raster_raw.html">vapour_read_raster_raw()</a></code>, <code><a href="../reference/vapour_read_raster_raw.html">vapour_read_raster_int()</a></code>, <code><a href="../reference/vapour_read_raster_raw.html">vapour_read_raster_dbl()</a></code>, <code><a href="../reference/vapour_read_raster_raw.html">vapour_read_raster_chr()</a></code> and its alias <code><a href="../reference/vapour_read_raster_raw.html">vapour_read_raster_hex()</a></code> to return specific types of atomic vector. _chr and _hex convert raw bytes to colours.</p></li>
<li><p>New function <code><a href="../reference/vapour_read_raster_block.html">vapour_read_raster_block()</a></code> a helper around the internal C++ reader for the simple case of offset/dimension read. There’s a matching but non-exported vapour_write_raster_block(). See issue/PR <a href="https://github.com/hypertidy/vapour/issues/123" class="external-link">#123</a> for examples.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.0" id="vapour-080">vapour 0.8.0<small>2021-08-25</small><a class="anchor" aria-label="anchor" href="#vapour-080"></a></h2>
<ul><li>Fix for CRAN errors, with broken configure.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.8" id="vapour-078">vapour 0.7.8<small>2021-08-14</small><a class="anchor" aria-label="anchor" href="#vapour-078"></a></h2>
<ul><li>Fixed errors for earlier GDAL (that were seen on Solaris with GDAL 2.2.4, now 2.4.4), by condition on GDAL version for importFromWkt() as sf does. This means vapour can work on GDAL from version 2.0.1, and so support its use on Ubuntu 18.04.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.7" id="vapour-077">vapour 0.7.7<small>2021-08-05</small><a class="anchor" aria-label="anchor" href="#vapour-077"></a></h2>
<ul><li><p>Remove unused vapour.cpp which trigger unused warnings: MAX_INT variable and code GetPointsInternal, warnings on CRAN r-devel-linux-x86_64-fedora-clang, 2021-08-03.</p></li>
<li><p>Fixed dependence on GDAL, require version GDAL &gt;= 2.3.0. Older versions not const correct for OGRGeometry::importFromWkt(), triggering errors on Solaris CRAN which was GDAL 2.2.4 at 2021-08-03.</p></li>
<li><p>Fixed <code><a href="../reference/vapour_layer_info.html">vapour_layer_info()</a></code>, now accepts name of layer not just index to be more consistent across other layer functions. Now includes more information about the layer.</p></li>
<li><p><code><a href="../reference/vapour_read_fields.html">vapour_read_fields()</a></code> will now return binary fields.</p></li>
<li><p><code><a href="../reference/vapour_srs_wkt.html">vapour_srs_wkt()</a></code> now accepts more inputs, not just proj strings.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.6" id="vapour-076">vapour 0.7.6<small>2021-08-02</small><a class="anchor" aria-label="anchor" href="#vapour-076"></a></h2>
<ul><li><p>Include OFTBinary in supported field types.</p></li>
<li><p>REALLY fixed the CRAN UBSAN problem. Listed here: <a href="https://github.com/hypertidy/vapour/issues/110" class="external-link uri">https://github.com/hypertidy/vapour/issues/110</a></p></li>
<li><p><code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code> gains ‘extent’ element.</p></li>
<li><p><code><a href="../reference/vapour_report_fields.html">vapour_report_fields()</a></code> new function aliased to <code><a href="../reference/vapour_report_fields.html">vapour_report_attributes()</a></code> and <code><a href="../reference/vapour_read_fields.html">vapour_read_fields()</a></code> to <code><a href="../reference/vapour_read_fields.html">vapour_read_attributes()</a></code> as more sensible names for what they do. The ’_attributes’ versions might be deprecated in future.</p></li>
<li><p><code><a href="../reference/vapour_layer_info.html">vapour_layer_info()</a></code> gains driver, layer name/s, fields, and feature count.</p></li>
<li><p><code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code> now returns <code>$projstring</code>, the proj string version of <code>$projection</code> (was called ‘proj4’ and previously unimplemented). The value may be an empty string.</p></li>
<li><p>File list from <code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code> now returns a missing value (NA) when no files are in the list.</p></li>
<li><p>Fixed a serious bug caused by ‘vapour_raster_info()’ attempting to create a character vector from a null pointer when no file list exists for a source (such as an image server).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.5" id="vapour-075">vapour 0.7.5<small>2021-07-21</small><a class="anchor" aria-label="anchor" href="#vapour-075"></a></h2>
<ul><li><p>Fixed input type problems found on CRAN, see <a href="https://github.com/hypertidy/vapour/issues/110" class="external-link uri">https://github.com/hypertidy/vapour/issues/110</a>. Thanks to CRAN for explaining.</p></li>
<li><p>Warper input can now include multiple sources.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.0" id="vapour-070">vapour 0.7.0<small>2021-07-04</small><a class="anchor" aria-label="anchor" href="#vapour-070"></a></h2>
<ul><li><p>Fixed CRAN windows problem with NetCDF.</p></li>
<li><p>New <em>internal</em> functions <code><a href="../reference/vapour_read_geometry.html">vapour_read_geometry_ia()</a></code> and <code><a href="../reference/vapour_read_geometry.html">vapour_read_geometry_ij()</a></code> to read by feature id arbitrary and range - not sure if will make export … <code>_fa()</code> counterpart is problematic.</p></li>
<li><p>New function <code><a href="../reference/vapour_layer_info.html">vapour_layer_info()</a></code> to return the previous internal projection string info for a vector<br>
layer.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.5" id="vapour-065">vapour 0.6.5<small>2021-06-28</small><a class="anchor" aria-label="anchor" href="#vapour-065"></a></h2>
<ul><li><p>Fix to configure for Fedora thanks to Inaki Ucar (<a href="https://github.com/Enchufa2" class="external-link">@Enchufa2</a>) <a href="https://github.com/hypertidy/vapour/issues/95" class="external-link uri">https://github.com/hypertidy/vapour/issues/95</a></p></li>
<li><p><code><a href="../reference/vapour_warp_raster.html">vapour_warp_raster()</a></code> now accepts an extent for the extraction with giving a dimension, it returns native pixels found within that extent. This is a special case for when you have control over the input window extent and now the dimensions implicitly. (We might formalize around storing the dimensions, extent, and crs as an attribute but that’s been unnecessary so far.)</p></li>
<li><p>Input projection strings for <code>wkt</code> or <code>source_wkt</code> in <code>vapour_warp_raster</code> may be anything acceptable by GDAL itself. These include WKT variants, PROJ strings, EPSG strings, and file names.</p></li>
<li><p>The function <code><a href="../reference/vapour_warp_raster.html">vapour_warp_raster()</a></code> now uses argument ‘bands’ rather than ‘band’ at the R level. The warper function correctly handles repeated band numbers in <code>bands</code> and can be set to <code>NULL</code>, to return all bands. (Note that <code><a href="../reference/vapour_read_raster.html">vapour_read_raster()</a></code> still uses ‘band’).</p></li>
<li><p>User interface for `vapour_warp_raster()’ now changed to use ‘extent’ and ‘source_extent’ in place of ‘geotransform’ and ‘source_geotransform’, which are now deprecated.</p></li>
<li><p>Function <code><a href="../reference/vapour_warp_raster.html">vapour_warp_raster()</a></code> now exported, properly handles input-replacement geotransform or projection for sources that have insufficient metadata. This works with a variety of input data source names (files, URLs, image servers, etc.) Overviews are automatically dealt with (by choosing the right level of detail) by using the gdalwarp app library functionality. (This warp function may be refactored to use extent rather than geotransform).</p></li>
<li><p>Added vsi example with zipped shapefile.</p></li>
<li><p>Fixed missing stdlib.h declaration for exit() in configure tests, thanks to CRAN. <a href="https://github.com/hypertidy/vapour/issues/88" class="external-link">#88</a></p></li>
<li><p>New function <code><a href="../reference/vapour_read_geometry.html">vapour_read_type()</a></code> to return the integer geometry type (GDAL’s wkb enum code).</p></li>
<li><p><code>vapour_read_geometry(what = "point")</code> is now defunct</p></li>
<li><p>Major refactor to use C++ headers, so other packages can access the API without using R functions. There’s a more comprehensive set of identifier, names, fields, extent, and geometry readers, and an addition of the GDALwarp() facility which is a generalization of RasterIO. This will now work on a much greater range of sources than the older RasterIO (still WIP).</p></li>
<li><p>New function <code><a href="../reference/vapour_geom_name.html">vapour_geom_name()</a></code> to get a data source geometry “column name”. Non-database sources return an empty string <em>unless</em> <code>ExecuteSQL()</code> was called, and then it is “<em>ogr_geometry</em>”.</p></li>
</ul><p>Typical names are ‘geom’ in GPKG, ‘SHAPE’ in GDB.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.5" id="vapour-055">vapour 0.5.5<small>2020-06-23</small><a class="anchor" aria-label="anchor" href="#vapour-055"></a></h2>
<ul><li><p>Deleted compile tests from configure, we can add proper tests if this is needed.</p></li>
<li><p>Now set env vars GDAL_DATA and PROJ_LIB to vapour/gdal/ and vapour/proj/ when present (i.e. Windows generally, MacOS on CRAN).</p></li>
<li><p>Update to configure to ensure data copy of proj/ and gdal/ on MacOS on CRAN, thanks to CRAN, Roger Bivand, and to James Balamuta for enormous help on github actions and installing the CRAN mac binaries.</p></li>
<li><p>Now using GDAL 3 on Windows.</p></li>
<li><p>Get available overview sizes, wish of <a href="https://github.com/hypertidy/vapour/issues/78" class="external-link">#78</a>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.0" id="vapour-050">vapour 0.5.0<small>2020-01-30</small><a class="anchor" aria-label="anchor" href="#vapour-050"></a></h2>
<ul><li><p>Improve tests to be more robust, thanks to CRAN. <a href="https://github.com/hypertidy/vapour/issues/77" class="external-link">#77</a></p></li>
<li><p>Removed pesky message and failing tests thanks to Joseph Stachelek (<a href="https://github.com/jsta" class="external-link">@jsta</a>) <a href="https://github.com/hypertidy/vapour/issues/76" class="external-link">#76</a>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="vapour-040">vapour 0.4.0<small>2019-09-27</small><a class="anchor" aria-label="anchor" href="#vapour-040"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-4-0">BREAKING CHANGES<a class="anchor" aria-label="anchor" href="#breaking-changes-0-4-0"></a></h3>
<ul><li>The function <code><a href="../reference/vapour_read_raster.html">vapour_read_raster()</a></code> now returns a list of (one) numeric vector. This change is so a future version can return more than one band for this and related functions.</li></ul></div>
<div class="section level3">
<h3 id="new-features-0-4-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-4-0"></a></h3>
<ul><li><p>New data set <code>tas_wkt</code> a Well-Known-Text string to simplify an example in the documentation.</p></li>
<li><p>The function <code><a href="../reference/vapour_read_raster.html">vapour_read_raster()</a></code> now returns a list with a single vector of values from the requested band. In future this may return values from multiple bands. The new function <code><a href="../reference/vapour_warp_raster.html">vapour_warp_raster()</a></code> uses the same scheme.</p></li>
<li><p>Fixed static linking for MacOS build, thanks(!!) to Jeroen Ooms for guidance and thanks to CRAN for reporting the issue.</p></li>
<li><p>New function <code><a href="../reference/vapour_srs_wkt.html">vapour_srs_wkt()</a></code> to convert PROJ4 strings to Well-Known Text.</p></li>
<li><p>New <em>internal-only</em> function <code><a href="../reference/vapour_warp_raster.html">vapour_warp_raster()</a></code> to return a warped version from a raster source. Please use with caution, it’s still flaky for certain cases and will crash your session (setting projection on NetCDF 0,360 is one example but not fleshed out yet - see hypertidy/lazyraster for in-dev usage examples.)</p></li>
<li><p>New internal function <code>warp_memory_cpp()</code> to warp small in memory rasters.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="vapour-030">vapour 0.3.0<small>2019-09-18</small><a class="anchor" aria-label="anchor" href="#vapour-030"></a></h2>
<ul><li><p>Updates to configure to remove deprecated R CMD config CPP (thanks to CRAN).</p></li>
<li><p>Updates to enable use of the deprecated PROJ API.</p></li>
<li><p>New function <code><a href="../reference/vapour_vsi_list.html">vapour_vsi_list()</a></code> to list contents of virtual files. See <a href="https://twitter.com/mdsumner/status/1158335706483179521" class="external-link uri">https://twitter.com/mdsumner/status/1158335706483179521</a> and <a href="https://github.com/hypertidy/vapour/issues/55" class="external-link uri">https://github.com/hypertidy/vapour/issues/55</a> for inspirations.</p></li>
<li><p>Added a hex sticker! Thanks to <a href="https://github.com/Maschette" class="external-link">@Maschette</a>.</p></li>
<li><p>Added ‘proj4’ string as well as ‘projection’ (WKT) to the output of <code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code><br>
(these aren’t always available, especially not for longlat NetCDF).</p></li>
<li><p>Fixed failure in <code>limit_n</code>, <code>skip_n</code> behaviour for reading names (FIDs) and attributes, (<a href="https://github.com/hypertidy/vapour/issues/60" class="external-link">#60</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="vapour-020">vapour 0.2.0<small>2019-05-06</small><a class="anchor" aria-label="anchor" href="#vapour-020"></a></h2>
<ul><li><p>Fixed incorrect use of C-level <code>printf()</code> and unnecessary tests thanks to CRAN feedback.</p></li>
<li><p>Add ‘type’ to output of <code><a href="../reference/vapour_geom_summary.html">vapour_geom_summary()</a></code>, the integer code for each geometry type.</p></li>
<li><p>Restructured conversion to text geometries to properly free up memory, was causing memory leaks (found with valgrind).</p></li>
<li><p>Use of <code>sql</code> now correctly uses ‘GDALDataset::ReleaseResultsSet()’ in each applicable function. Query with the ‘sql’ argument was not being executed in <code><a href="../reference/vapour_layer_names.html">vapour_layer_names()</a></code> but now is - only has utility for insert and drop queries, so will be rarely used and probably never had any impact before.</p></li>
<li><p>Raster read gains a new argument <code>native = FALSE</code> to control use of the native window without specifying it. If <code>native = TRUE</code> then the native dimensions are used and read in full.</p></li>
<li><p>Vector read functions gain new <code>extent</code> argument to apply a spatial filter in conjunction with the <code>sql</code> argument, per discussion (<a href="https://github.com/hypertidy/vapour/issues/34" class="external-link">#34</a>). The extent can be of type sp, sf, raster, or generic vector <code>c(xmin, xmax, ymin, ymax)</code>. The extent is ignored if the <code>sql</code> argument is not specified, with a warning. Applies to <code><a href="../reference/vapour_geom_summary.html">vapour_geom_summary()</a></code>, <code><a href="../reference/vapour_read_fields.html">vapour_read_attributes()</a></code>, <code><a href="../reference/vapour_read_geometry.html">vapour_read_extent()</a></code>, <code><a href="../reference/vapour_read_geometry.html">vapour_read_geometry()</a></code>, <code><a href="../reference/vapour_read_geometry.html">vapour_read_geometry_text()</a></code>, and <code><a href="../reference/vapour_read_fids.html">vapour_read_names()</a></code>. Thanks to Joseph Stachelek for the suggestion.</p></li>
<li><p>Vector read functions gain new <code>limit_n</code> and <code>skip_n</code> arguments to specify a sequential set of features to be read, added to <code><a href="../reference/vapour_geom_summary.html">vapour_geom_summary()</a></code>,<br><code><a href="../reference/vapour_read_fields.html">vapour_read_attributes()</a></code>, <code><a href="../reference/vapour_read_geometry.html">vapour_read_extent()</a></code>, <code><a href="../reference/vapour_read_geometry.html">vapour_read_geometry()</a></code>, <code><a href="../reference/vapour_read_geometry.html">vapour_read_geometry_text()</a></code>, and <code><a href="../reference/vapour_read_fids.html">vapour_read_names()</a></code>. Their effect occurs after that of the <code>sql</code> argument.</p></li>
<li><p>New function <code><a href="../reference/GDAL-library.html">vapour_driver()</a></code> to determine chosen driver (vector, short name) of the data source.</p></li>
<li><p>New argument <code>min_max</code> to allow fast default use of <code><a href="../reference/vapour_raster_info.html">vapour_raster_info()</a></code>, as per (<a href="https://github.com/hypertidy/vapour/issues/50" class="external-link">#50</a>).</p></li>
<li><p>New function <code><a href="../reference/vapour_raster_gcp.html">vapour_raster_gcp()</a></code> to return GCP (ground control points) if present.</p></li>
<li><p>New function <code><a href="../reference/vapour_report_fields.html">vapour_report_attributes()</a></code> to return a string description of the internal GDAL type for data attributes wish of Grant Williamson.</p></li>
<li><p>Attribute types ‘OFTInteger64’ are now returned as doubles, ‘Date’ and ‘DateTime’ are returned as strings.</p></li>
<li><p>New functions <code><a href="../reference/GDAL-library.html">vapour_gdal_version()</a></code> and <code><a href="../reference/GDAL-library.html">vapour_all_drivers()</a></code> to return information about the GDAL library in use.</p></li>
<li><p>Function <code><a href="../reference/vapour_read_fids.html">vapour_read_names()</a></code> is now implemented using the library API, rather than via OGRSQL. All trace of the OGRSQL FID workaround and warning has been removed.</p></li>
<li><p>New function <code><a href="../reference/vapour_geom_summary.html">vapour_geom_summary()</a></code> to return basic identity, validity, and extent of feature geometries.</p></li>
<li><p>Values for the extent (bounding box) of a feature are now set to NA values for an empty or missing geometry.</p></li>
<li><p>Fix drastic memory leak in <code><a href="../reference/vapour_read_fields.html">vapour_read_attributes()</a></code>, thanks to Grant Williamson.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="vapour-010">vapour 0.1.0<small>2018-08-14</small><a class="anchor" aria-label="anchor" href="#vapour-010"></a></h2>
<ul><li><p>Functions that include a <code>layer</code> index now accept a layer name which is used to find the (0-based) layer index.</p></li>
<li><p>This is a breaking release, all old functions have been made defunct or removed entirely.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.1" id="vapour-001">vapour 0.0.1<a class="anchor" aria-label="anchor" href="#vapour-001"></a></h2>
<ul><li><p>All C++ functions now have explicit R wrappers instead of Rcpp exports.</p></li>
<li><p>New naming convention uses <code>vapour_</code> for vector sources, <code>raster_</code> for raster sources to make function names a little more consistent.</p></li>
<li><p>New wrapper <code>vapour_sds_names</code> to replace <code>sds_info</code> and <code>raster_sds_info</code> which are now deprecated.</p></li>
<li><p>New wrapper <code>vapour_read_geometry_what</code> to replace <code>vapour_read_feature_what</code> which i is now deprecated.</p></li>
<li><p>New function <code>vapour_read_names</code> to return the vector of FID values.</p></li>
<li><p>The read for raster data now returns numeric or integer appropriately.</p></li>
<li><p><code>vapour_raster_info</code> now includes <code>bands</code> as the count of available bands.</p></li>
<li><p>The IO read now allows a 4-element <code>window</code> to return data at native resolution, by copying the third and fourth values (source dimension) to the fifth and sixth values (output dimension) respectively.</p></li>
<li><p>Subdatasets are now supported.</p></li>
<li><p>Added sanity check behaviour to <code>vapour_raster_read</code> to avoid out of bounds read attempts.</p></li>
<li><p>Resampling options added to raster data read.</p></li>
<li><p>Upgraded to rwinlib gdal 2.2.3.</p></li>
<li><p>added function <code>vapour_layer_names</code> to return character layer names, and implicitly provide a layer count</p></li>
<li><p>feature iteration now avoids “GetFeatureCount” and collects each element in a growing list, thanks to Jim Hester</p></li>
<li><p>renamed <code>format</code> argument to <code>textformat</code>, this is ignored unless <code>what = "text"</code></p></li>
<li><p>Created a single C++ feature read to remove repeated logic, <code>vapour_read_geometry</code>, <code>vapour_read_geometry_text</code>, and <code>vapour_read_extent</code> all call the same function.</p></li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michael Sumner.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

